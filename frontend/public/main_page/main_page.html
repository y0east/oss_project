<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HUFS Â· ì •ë³´í†µì‹ ê³µí•™ê³¼</title>

    <!-- Fonts & Tailwind -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      body {
        font-family: 'Nanum Gothic', sans-serif;
      }

      /* ğŸ”¹ ê³µí†µ ê·¸ë¼ë°ì´ì…˜ í…ìŠ¤íŠ¸ */
      .gradient-text {
        display: inline-block;
        background: linear-gradient(90deg, #9ae6b4, #90cdf4, #fbb6ce);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        color: transparent;
      }

      /* ğŸ”¸ ë©”ê°€ ë©”ë‰´: ê³ ì • ë†’ì´ + ìŠ¤í¬ë¡¤ í—ˆìš© (â¬‡ ì•„ë˜ìª½ ì—¬ìœ  ê³µê°„ 5px ì¦ê°€) */
      #mega-menu {
        background: rgba(2, 49, 90, 0.85);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.35);
        height: calc(16rem + 5px); /* 16rem(256px) + 5px */
        overflow-y: auto;
      }

      /* ğŸ”¸ í•˜ì´ë¼ì´íŠ¸ ì—´ */
      .highlight {
        background: rgba(6, 66, 118, 0.85) !important;
      }

      /* ğŸ”¸ ë„¤ë¹„ê²Œì´ì…˜ ê¸€ì ìê°„ ì‚´ì§ ë„“í˜ */
      .nav-item button {
        letter-spacing: 0.02em;
      }
    </style>
  </head>

  <body class="bg-gray-100">
    <!-- â–£ Top Mini Bar -->
    <div class="w-full bg-white border-b border-gray-200 text-xs">
      <div
        class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3"
      >
        <div class="flex items-center gap-3">
          <!-- â¬‡ ê²½ë¡œ ìˆ˜ì • -->
          <img src="../icon/hufs_logo.gif" alt="logo" class="w-28 h-auto" />
          <a
            href="http://localhost:3000/main_page/main_page.html"
            style="font-size: 1rem; font-weight: 600; color: #8b5e3c"
            >ì •ë³´í†µì‹ ê³µí•™ê³¼</a
          >
        </div>
        <div class="flex items-center gap-6 text-sm md:text-base">
          <a
            href="http://localhost:3000/login_page/login_page.html"
            class="hover:opacity-80"
          >
            <!-- â¬‡ ê²½ë¡œ ìˆ˜ì • -->
            <img src="../icon/lock.png" alt="ë¡œê·¸ì¸" class="w-5 h-5" />
          </a>
        </div>
      </div>
    </div>

    <!-- â–£ Main Nav + Mega Menu -->
    <nav id="mainNav" class="w-full bg-[#002d56] text-white relative z-20">
      <ul
        class="max-w-7xl mx-auto flex items-center justify-center gap-20 py-3 text-base md:text-lg font-bold"
      >
        <li class="nav-item" data-col="about">
          <button class="hover:text-sky-300">í•™ê³¼ì†Œê°œ</button>
        </li>
        <li class="nav-item" data-col="bursary">
          <button class="hover:text-sky-300">í•™ì‚¬Â·ì¥í•™</button>
        </li>
        <li class="nav-item" data-col="curriculum">
          <button class="hover:text-sky-300">êµê³¼ê³¼ì •</button>
        </li>
        <li class="nav-item" data-col="grad">
          <button class="hover:text-sky-300">ëŒ€í•™ì›</button>
        </li>
        <li class="nav-item" data-col="facility">
          <button class="hover:text-sky-300">í•™íšŒÂ·ì‹œì„¤</button>
        </li>
      </ul>

      <!-- ğŸ”¸ Mega Menu -->
      <div id="mega-menu" class="absolute top-full left-0 w-screen hidden">
        <div
          class="max-w-7xl mx-auto grid grid-cols-5 gap-8 px-8 py-10 text-sm leading-relaxed"
        >
          <!-- í•™ê³¼ì†Œê°œ -->
          <div class="mega-col flex flex-col gap-2" data-col="about">
            <h4 class="text-sky-200 font-bold mb-2">í•™ê³¼ì†Œê°œ</h4>
            <a href="#" class="hover:text-sky-300">êµ¬ì„±ì›</a>
            <a href="#" class="hover:text-sky-300">êµìœ¡ëª©í‘œ</a>
            <a href="#" class="hover:text-sky-300">ê°œê´€ ë° ì—°í˜</a>
            <a href="#" class="hover:text-sky-300">ì¡¸ì—…í›„ ì·¨ì—…ë™í–¥</a>
            <a href="#" class="hover:text-sky-300">í•™ê³¼í–‰ì‚¬</a>
            <a href="#" class="hover:text-sky-300">ì˜¤ì‹œëŠ” ê¸¸</a>
          </div>

          <!-- í•™ì‚¬Â·ì¥í•™ -->
          <div class="mega-col flex flex-col gap-2" data-col="bursary">
            <h4 class="text-sky-200 font-bold mb-2">í•™ì‚¬Â·ì¥í•™</h4>
            <a href="#" class="hover:text-sky-300">í•™ì‚¬</a>
            <a href="#" class="hover:text-sky-300">ì¥í•™</a>
            <a href="#" class="hover:text-sky-300">ì „ê³µë¡œë“œë§µ</a>
          </div>

          <!-- êµê³¼ê³¼ì • -->
          <div class="mega-col flex flex-col gap-2" data-col="curriculum">
            <h4 class="text-sky-200 font-bold mb-2">êµê³¼ê³¼ì •</h4>
            <!-- âœ… a íƒœê·¸ì— hrefë§Œ ì§€ì •í•˜ë©´ JS í•„ìš” ì—†ìŒ -->
            <a
              href="http://localhost:3000/completion_system_page/com_sys_page.html"
              class="hover:text-sky-300"
              >ì´ìˆ˜ì²´ê³„</a
            >
            <a href="#" class="hover:text-sky-300">ê°œì„¤ê³¼ëª©</a>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› êµê³¼ê³¼ì •</a>
            <a href="#" class="hover:text-sky-300">ì‹ ì…ìƒì„¸ë¯¸ë‚˜</a>
            <a href="#" class="hover:text-sky-300">ì •ë³´í†µì‹ ì¢…í•©ì„¤ê³„ ë° ì‹¤ìŠµ</a>
          </div>

          <!-- ëŒ€í•™ì› -->
          <div class="mega-col flex flex-col gap-2" data-col="grad">
            <h4 class="text-sky-200 font-bold mb-2">ëŒ€í•™ì›</h4>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› í•™ê³¼ì†Œê°œ</a>
            <a href="#" class="hover:text-sky-300">êµìˆ˜ì§„ ì†Œê°œ</a>
            <a href="#" class="hover:text-sky-300">ì „ê³µë³„ êµê³¼ê³¼ì •</a>
            <a href="#" class="hover:text-sky-300">ì¢…í•©ì‹œí—˜ê³¼ëª©</a>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› ê²Œì‹œíŒ</a>
          </div>

          <!-- í•™íšŒÂ·ì‹œì„¤ -->
          <div class="mega-col flex flex-col gap-2" data-col="facility">
            <h4 class="text-sky-200 font-bold mb-2">í•™íšŒÂ·ì‹œì„¤</h4>
            <a href="#" class="hover:text-sky-300">AdvICE</a>
            <a href="#" class="hover:text-sky-300">ììœ ê²Œì‹œíŒ</a>
            <a href="#" class="hover:text-sky-300">FICS</a>
            <a href="#" class="hover:text-sky-300">ì‹œì„¤ì•ˆë‚´</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- â–£ Quick Access Bar -->
    <div class="w-full bg-gray-200">
      <div
        class="max-w-7xl mx-auto flex justify-center items-center gap-6 py-2 text-sm font-semibold text-gray-700 tracking-wide"
      >
        <a href="#" class="hover:text-sky-600">e-Class</a>
        <a href="#" class="hover:text-sky-600">ì¢…í•©ì •ë³´ì‹œìŠ¤í…œ</a>
        <a href="#" class="hover:text-sky-600">ë„ì„œê´€</a>
        <a href="#" class="hover:text-sky-600">ì…í•™ì•ˆë‚´</a>
      </div>
    </div>

    <!-- â–£ Hero (ë°°ë„ˆ) -->
    <section
      class="relative w-full h-96 flex flex-col items-center justify-center text-center overflow-hidden"
      style="background: url('../img/hufs_main.png') center/cover no-repeat"
    >
      <div class="absolute inset-0 bg-black/50"></div>
      <h2 class="relative text-white text-2xl md:text-4xl font-bold mb-3">
        ê³µê³¼ëŒ€í•™ <span class="text-teal-300">ì •ë³´í†µì‹ ê³µí•™ê³¼</span>
      </h2>
      <p class="relative text-base md:text-lg text-gray-200">
        Department of Information Communication Engineering
      </p>
    </section>

    <!-- â–£ News Section (ë™ì  ë¡œë”©) -->
    <section class="max-w-7xl mx-auto px-4 py-16">
      <div class="flex flex-col md:flex-row gap-10">
        <div class="md:w-1/4">
          <h3 class="text-2xl font-bold leading-snug mb-4">
            í•œêµ­ì™¸ëŒ€<br />ì •ë³´í†µì‹ ê³µí•™ê³¼<br />ì†Œì‹
          </h3>
          <a href="http://localhost:3000/notice_page/notice_page.html" class="text-sm underline hover:text-blue-600"
            >ì†Œì‹ ë”ë³´ê¸° &gt;</a
          >
        </div>

        <!-- ğŸ”¸ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ ê²Œì‹œê¸€ì´ ë“¤ì–´ê°ˆ ì˜ì—­ -->
        <div
          id="newsGrid"
          class="w-full max-w-7xl mx-auto flex-1 grid grid-cols-1 sm:grid-cols-2 gap-6"
        ></div>
    </section>

    <!-- â–£ HUBOT í™ë³´ ì„¹ì…˜ -->
    <section class="relative bg-[#0b2958] py-12 text-white overflow-hidden">
      <div
        class="max-w-7xl mx-auto relative flex flex-col items-center text-center"
      >
        <!-- âœ… imgë¥¼ a íƒœê·¸ë¡œ ê°ì‹¸ê¸° -->
        <a href="http://localhost:3000/chatbot_page/chatbot.html">
          <img
            src="../icon/ai_chatbot_icon.png"
            alt="HUBOT"
            class="w-32 h-auto select-none cursor-pointer"
          />
        </a>
        <h3 class="mt-6 text-2xl md:text-3xl font-bold">HUBOTì—ê²Œ ë¬¼ì–´ë³´ê¸°</h3>

        <!-- ê³ ì • ë¬¸êµ¬ -->
        <span
          class="absolute left-6 md:left-16 top-6 md:top-12 text-lg md:text-xl font-semibold gradient-text"
          >ì¡¸ì—…í•™ì ?</span
        >
        <span
          class="absolute left-6 md:left-16 top-32 md:top-40 text-lg md:text-xl font-semibold gradient-text"
          >ì´ìˆ˜ì²´ê³„?</span
        >
        <span
          class="absolute right-6 md:right-16 top-6 md:top-12 text-lg md:text-xl font-semibold gradient-text"
          >ìˆ˜ì—…ë‚´ìš©?</span
        >
        <span
          class="absolute right-6 md:right-16 top-32 md:top-40 text-lg md:text-xl font-semibold gradient-text"
          >ê¶ê¸ˆí•œê²Œ ë§ë‹¤ë©´?</span
        >

        <!-- ìƒˆ ì§ˆë¬¸ë“¤ -->
        <div
          class="mt-24 md:mt-32 flex flex-wrap justify-center gap-x-10 gap-y-4 max-w-4xl"
        >
          <span class="gradient-text text-lg md:text-xl font-semibold"
            >ì •ë³´í†µì‹ ê³µí•™ê³¼?</span
          >
          <span class="gradient-text text-lg md:text-xl font-semibold"
            >ì¡¸ì—…í•˜ë ¤ë©´ ì´ ëª‡ í•™ì ?</span
          >
          <span class="gradient-text text-lg md:text-xl font-semibold"
            >í•„ìˆ˜ ê³¼ëª© ëª‡ ê°œ?</span
          >
          <span class="gradient-text text-lg md:text-xl font-semibold"
            >ìë£Œêµ¬ì¡°ëŠ” ì–´ë–¤ ë‚´ìš©?</span
          >
          <span class="gradient-text text-lg md:text-xl font-semibold"
            >ì •ë³´í†µì‹ ê³µí•™ê³¼ ì¡¸ì—… í›„ ì§„ë¡œ?</span
          >
        </div>
      </div>
    </section>

    <!-- â–£ Footer -->
    <footer class="bg-[#2f2f2f] py-10 text-center text-gray-300">
      <div class="max-w-4xl mx-auto space-y-2 text-sm leading-relaxed">
        <!-- HUFS ì˜ë¬¸ ë¡œê³  (ì›í•œë‹¤ë©´ ì´ë¯¸ì§€ë¡œ êµì²´) -->
        <p class="text-gray-400 text-base font-semibold">
          Hankuk University of Foreign Studies
        </p>

        <!-- ì£¼ì†Œ -->
        <p>
          <span class="text-[#c9aa71] font-semibold">ê¸€ë¡œë²Œìº í¼ìŠ¤</span>
          17035 ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ëª¨í˜„ì ì™¸ëŒ€ë¡œ 81<br />
          í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ê³µê³¼ëŒ€í•™ ì •ë³´í†µì‹ ê³µí•™ê³¼
        </p>

        <!-- ì—°ë½ì²˜ -->
        <p><span class="text-[#c9aa71]">Tel.</span> 031-330-4255</p>
        <p><span class="text-[#c9aa71]">e-mail.</span> ice@hufs.ac.kr</p>

        <!-- ì €ì‘ê¶Œ -->
        <p class="pt-2 text-xs text-gray-500">
          Copyright Â© Hankuk University of Foreign Studies. All Rights Reserved.
        </p>
      </div>
    </footer>

    <!-- â–£ ìŠ¤í¬ë¦½íŠ¸ -->
 <script>
      document.addEventListener('DOMContentLoaded', () => {
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ Mega-menu ì œì–´ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const megaMenu = document.getElementById('mega-menu');
        const nav = document.getElementById('mainNav');
        const navItems = document.querySelectorAll('.nav-item');
        const cols = document.querySelectorAll('.mega-col');
        function highlight(colName) {
          cols.forEach((c) =>
            c.classList.toggle('highlight', c.dataset.col === colName)
          );
        }
        function showMega() {
          megaMenu.classList.remove('hidden');
        }
        function hideMega() {
          megaMenu.classList.add('hidden');
          cols.forEach((c) => c.classList.remove('highlight'));
        }
        navItems.forEach((item) =>
          item.addEventListener('mouseenter', () => {
            showMega();
            highlight(item.dataset.col);
          })
        );
        nav.addEventListener('mouseleave', hideMega);
        megaMenu.addEventListener('mouseenter', showMega);
        megaMenu.addEventListener('mouseleave', hideMega);

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€ ê²Œì‹œê¸€ ë™ì  ë¡œë”© â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        const newsGrid = document.getElementById('newsGrid');

        function formatDate(isoStr) {
          const d = new Date(isoStr);
          return `${d.getFullYear()}.${String(d.getMonth() + 1).padStart(
            2,
            '0'
          )}.${String(d.getDate()).padStart(2, '0')}`;
        }

        function createCard(post) {
          // 1) ì „ì²´ ì¹´ë“œë¥¼ ê°ì‹¸ëŠ” ë§í¬ ìƒì„±
          const link = document.createElement('a');
          // í´ë¦­ ì‹œ post_page.htmlë¡œ id íŒŒë¼ë¯¸í„°ì™€ í•¨ê»˜ ì´ë™
          link.href = `http://localhost:3000/post_page/post_page.html?id=${post.id}`;
          link.className = 'block';

          // 2) ì¹´ë“œ(article) ìš”ì†Œ ìƒì„±
          const art = document.createElement('article');
          art.className =
            'bg-[#6b5b4b] text-gray-100 p-4 rounded-md shadow hover:-translate-y-1 transition';

          // ì œëª©
          const h4 = document.createElement('h4');
          h4.className = 'text-xs font-semibold mb-1';
          h4.textContent = post.title;

          // ë‚´ìš©
          const p = document.createElement('p');
          p.className = 'text-sm line-clamp-2';
          p.textContent = post.content;

          // ë‚ ì§œ
          const time = document.createElement('time');
          time.className = 'block mt-3 text-xs opacity-80';
          time.textContent = formatDate(post.createdAt);

          art.append(h4, p, time);
          link.appendChild(art);
          return link;
        }

        async function loadPosts() {
          try {
            const res = await fetch('http://localhost:8080/api/posts', {
              method: 'GET',
              credentials: 'include',
              headers: { Accept: 'application/json' },
            });
            if (!res.ok) throw new Error(`HTTP ${res.status}`);
            const posts = await res.json();
            newsGrid.innerHTML = '';
            posts
              .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
              .slice(0, 4)
              .forEach((p) => newsGrid.appendChild(createCard(p)));
          } catch (err) {
            console.error('[ê²Œì‹œê¸€ ë¡œë”© ì‹¤íŒ¨]', err);
            newsGrid.innerHTML =
              '<p class="text-red-700">ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>';
          }
        }

        loadPosts();
      });
    </script>
  </body>
</html>
