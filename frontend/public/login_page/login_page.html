<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HUFS Â· ì •ë³´í†µì‹ ê³µí•™ê³¼</title>

    <!-- Fonts & Tailwind -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link href="login_style.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-100">
    <!-- â–£ Top Mini Bar -->
    <div class="w-full bg-white border-b border-gray-200 text-xs">
      <div
        class="max-w-7xl mx-auto flex items-center justify-between px-4 py-3"
      >
        <div class="flex items-center gap-3">
          <img
            src="../icon/hufs_logo.gif"
            alt="HUFS Logo"
            class="w-28 h-auto"
          />
          <a
            href="http://localhost:3000/main_page/main_page.html"
            style="font-size: 1rem; font-weight: 600; color: #8b5e3c"
            >ì •ë³´í†µì‹ ê³µí•™ê³¼</a
          >
        </div>
        <div class="flex items-center gap-6 text-sm md:text-base">
          <a
            href="http://localhost:3000/login_page/login_page.html"
            class="hover:opacity-80"
          >
            <img src="../icon/lock.png" alt="ë¡œê·¸ì¸" class="w-5 h-5" />
          </a>
        </div>
      </div>
    </div>

    <!-- â–£ Main Navigation + Mega Menu -->
    <nav id="mainNav" class="w-full bg-[#002d56] text-white relative z-20">
      <ul class="max-w-5xl mx-auto flex flex-wrap items-center justify-center lg:translate-x-[0.5vw] sm:gap-4 md:gap-12 lg:gap-24 px-4 py-2
           text-base sm:text-lg md:text-xl lg:text-1xl font-bold whitespace-normal">
        <li class="nav-item" data-col="about">
          <button class="hover:text-sky-300">í•™ê³¼ì†Œê°œ</button>
        </li>
        <li class="nav-item" data-col="bursary">
          <button class="hover:text-sky-300">í•™ì‚¬Â·ì¥í•™</button>
        </li>
        <li class="nav-item translate-x-[-0.5vw]" data-col="curriculum">
          <button class="hover:text-sky-300">êµê³¼ê³¼ì •</button>
        </li>
        <li class="nav-item" data-col="grad">
          <button class="hover:text-sky-300">ëŒ€í•™ì›</button>
        </li>
        <li class="nav-item" data-col="facility">
          <button class="hover:text-sky-300">í•™íšŒÂ·ì‹œì„¤</button>
        </li>
        <li class="nav-item" data-col="community">
          <button class="hover:text-sky-300">ì»¤ë®¤ë‹ˆí‹°</button>
        </li>
      </ul>

      <!-- ğŸ”¸ Mega Menu -->
      <div id="mega-menu" class="absolute top-full left-0 w-screen hidden">
        <div
          class="max-w-5xl mx-auto grid grid-cols-6 gap-[0.74vw] px-[0.5vw] py-2 text-sm leading-relaxed"
        >
          <!-- í•™ê³¼ì†Œê°œ -->
          <div class="mega-col flex rounded-lg flex-col gap-2 items-center py-3" data-col="about">
            <h4 class="text-sky-200 font-bold mb-2">í•™ê³¼ì†Œê°œ</h4>
            <a href="#" class="hover:text-sky-300">êµ¬ì„±ì›</a>
            <a href="#" class="hover:text-sky-300">êµìœ¡ëª©í‘œ</a>
            <a href="#" class="hover:text-sky-300">ê°œê´€ ë° ì—°í˜</a>
            <a href="#" class="hover:text-sky-300">ì¡¸ì—…í›„ ì·¨ì—…ë™í–¥</a>
            <a href="#" class="hover:text-sky-300">í•™ê³¼í–‰ì‚¬</a>
            <a href="#" class="hover:text-sky-300">ì˜¤ì‹œëŠ” ê¸¸</a>
          </div>

          <!-- í•™ì‚¬Â·ì¥í•™ -->
          <div class="mega-col flex flex-col gap-2 rounded-lg items-center" data-col="bursary">
            <h4 class="text-sky-200 font-bold mb-2">í•™ì‚¬Â·ì¥í•™</h4>
            <a href="#" class="hover:text-sky-300">í•™ì‚¬</a>
            <a href="#" class="hover:text-sky-300">ì¥í•™</a>
            <a href="#" class="hover:text-sky-300">ì „ê³µë¡œë“œë§µ</a>
          </div>

          <!-- êµê³¼ê³¼ì • -->
          <div class="mega-col flex flex-col gap-2 rounded-lg items-center" data-col="curriculum">
            <h4 class="text-sky-200 font-bold mb-2">êµê³¼ê³¼ì •</h4>
            <!-- âœ… a íƒœê·¸ì— hrefë§Œ ì§€ì •í•˜ë©´ JS í•„ìš” ì—†ìŒ -->
            <a
              href="http://localhost:3000/completion_system_page/com_sys_page.html"
              class="hover:text-sky-300"
              >ì´ìˆ˜ì²´ê³„</a
            >
            <a href="#" class="hover:text-sky-300">ê°œì„¤ê³¼ëª©</a>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› êµê³¼ê³¼ì •</a>
            <a href="#" class="hover:text-sky-300">ì‹ ì…ìƒì„¸ë¯¸ë‚˜</a>
            <a href="#" class="hover:text-sky-300">ì •ë³´í†µì‹ ì¢…í•©ì„¤ê³„ ë° ì‹¤ìŠµ</a>
          </div>

          <!-- ëŒ€í•™ì› -->
          <div class="mega-col flex flex-col gap-2 rounded-lg items-center" data-col="grad">
            <h4 class="text-sky-200 font-bold mb-2">ëŒ€í•™ì›</h4>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› í•™ê³¼ì†Œê°œ</a>
            <a href="#" class="hover:text-sky-300">êµìˆ˜ì§„ ì†Œê°œ</a>
            <a href="#" class="hover:text-sky-300">ì „ê³µë³„ êµê³¼ê³¼ì •</a>
            <a href="#" class="hover:text-sky-300">ì¢…í•©ì‹œí—˜ê³¼ëª©</a>
            <a href="#" class="hover:text-sky-300">ëŒ€í•™ì› ê²Œì‹œíŒ</a>
          </div>

          <!-- í•™íšŒÂ·ì‹œì„¤ -->
          <div class="mega-col flex flex-col gap-2 rounded-lg items-center" data-col="facility">
            <h4 class="text-sky-200 font-bold mb-2">í•™íšŒÂ·ì‹œì„¤</h4>
            <a href="#" class="hover:text-sky-300">AdvICE</a>
            <a href="#" class="hover:text-sky-300">FICS</a>
            <a href="#" class="hover:text-sky-300">ì‹œì„¤ì•ˆë‚´</a>
          </div>

           <div class="mega-col flex flex-col gap-2 rounded-lg items-center" data-col="community">
            <h4 class="text-sky-200 font-bold mb-2">ì»¤ë®¤ë‹ˆí‹°</h4>
            <a href="#" class="hover:text-sky-300">ê³µì§€ì‚¬í•­</a>
            <a href="#" class="hover:text-sky-300">ìë£Œì‹¤</a>
            <a href="#" class="hover:text-sky-300">ì¡¸ì—…ë…¼ë¬¸ ê²Œì‹œíŒ</a>
            <a href="#" class="hover:text-sky-300">ê±´ì˜ì‚¬í•­</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- â–£ Hero Banner -->
    <section
      class="relative w-full h-48 flex items-center justify-center text-center overflow-hidden bg-[#003366]"
    >
      <img
        src="../img/subpage_pic.gif"
        alt="subpage banner"
        class="absolute inset-0 w-full h-full object-cover opacity-70"
      />
      <h2 class="relative text-white text-2xl md:text-4xl font-bold">ë¡œê·¸ì¸</h2>
    </section>

    <!-- â–£ ë¡œê·¸ì¸ ë°•ìŠ¤ -->
    <section class="w-full flex justify-center py-14 px-4">
      <div class="w-full max-w-4xl">
        <h3 class="text-center text-2xl md:text-3xl font-bold mb-6">ë¡œê·¸ì¸</h3>
        <form
          id="loginForm"
          class="border border-gray-300 rounded-md overflow-hidden shadow-sm"
        >
          <div class="flex">
            <div
              class="flex-1 flex flex-col bg-blue-50 divide-y divide-blue-100"
            >
              <input
                type="text"
                name="student_id"
                placeholder="í•™ë²ˆ"
                class="p-4 outline-none bg-transparent"
                required
              />
              <input
                type="password"
                name="password"
                placeholder="ë¹„ë°€ë²ˆí˜¸"
                class="p-4 outline-none bg-transparent"
                required
              />
            </div>
            <button
              type="submit"
              class="w-28 md:w-32 bg-white text-gray-800 font-semibold shrink-0 flex items-center justify-center hover:bg-gray-100 transition"
            >
              ë¡œê·¸ì¸
            </button>
          </div>
        </form>
        <div
          class="mt-6 bg-white border border-gray-200 p-6 leading-relaxed text-sm md:text-base"
        >
          <p class="mb-3">
            ì •ë³´í†µì‹ ê³µí•™ê³¼ í•™ìƒì˜ ê²½ìš°, ì¡¸ì—…ë…¼ë¬¸ ì—´ëŒ ë“±ì˜ ì¶”ê°€ ê¶Œí•œ ìŠ¹ì¸ì„ ìœ„í•´
            <span class="font-semibold">ë³¸ì¸ì˜ í•™ë²ˆìœ¼ë¡œ ë¡œê·¸ì¸</span>í•œ í›„ì—
            ë‹¤ìŒì„ ì§„í–‰í•˜ê¸¸ ë°”ëë‹ˆë‹¤.
          </p>
          <ol class="list-decimal list-inside space-y-1">
            <li>
              ë¡œê·¸ì¸í•œ ìƒíƒœì—ì„œ ìš°ì¸¡ ìƒë‹¨ì˜
              <span class="text-red-600 font-semibold">ì‚¬ì´íŠ¸ ê°€ì…</span>
              ì•„ì´ì½˜ì„ í´ë¦­í•œ í›„,
            </li>
            <li>
              ë³¸ì¸ì˜ í•™ë²ˆ/ì´ë¦„ìœ¼ë¡œ í•™ê³¼ êµ¬ì„±ì› ê¶Œí•œ ìŠ¹ì¸ì„ ìš”ì²­í•˜ëŠ” ì´ë©”ì¼ì„
              í•™ê³¼ ì¡°êµ(<a
                href="mailto:ice@hufs.ac.kr"
                class="text-sky-700 underline underline-offset-4"
                >ice@hufs.ac.kr</a
              >)ì—ê²Œ ë³´ë‚´ê¸¸ ë°”ëë‹ˆë‹¤.
            </li>
          </ol>
        </div>
      </div>
    </section>

    <!-- â–£ Footer -->
    <footer class="bg-[#2f2f2f] py-10 text-center text-gray-300">
      <div class="max-w-4xl mx-auto space-y-2 text-sm leading-relaxed">
        <p class="text-gray-400 text-base font-semibold">
          Hankuk University of Foreign Studies
        </p>
        <p>
          <span class="text-[#c9aa71] font-semibold">ê¸€ë¡œë²Œìº í¼ìŠ¤</span> 17035
          ê²½ê¸°ë„ ìš©ì¸ì‹œ ì²˜ì¸êµ¬ ëª¨í˜„ì ì™¸ëŒ€ë¡œ 81<br />í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ê³µê³¼ëŒ€í•™
          ì •ë³´í†µì‹ ê³µí•™ê³¼
        </p>
        <p><span class="text-[#c9aa71]">Tel.</span> 031-330-4255</p>
        <p><span class="text-[#c9aa71]">e-mail.</span> ice@hufs.ac.kr</p>
        <p class="pt-2 text-xs text-gray-500">
          Copyright Â© Hankuk University of Foreign Studies. All Rights Reserved.
        </p>
      </div>
    </footer>

    <!-- â–£ Script: Mega-menu + ë¡œê·¸ì¸ ì²˜ë¦¬ -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const megaMenu = document.getElementById('mega-menu');
        const navItems = document.querySelectorAll('.nav-item');
        const nav = document.getElementById('mainNav');
        const cols = document.querySelectorAll('.mega-col');

        const show = () => megaMenu.classList.remove('hidden');
        const hide = () => megaMenu.classList.add('hidden');
        const highlight = (col) =>
          cols.forEach((c) =>
            c.classList.toggle('highlight', c.dataset.col === col)
          );

        navItems.forEach((item) => {
          item.addEventListener('mouseenter', () => {
            show();
            highlight(item.dataset.col);
          });
        });
        cols.forEach((col) =>
          col.addEventListener('mouseenter', () => {
          show();
          highlight(col.dataset.col);
        })
      );

        nav.addEventListener('mouseleave', hide);
        megaMenu.addEventListener('mouseleave', hide);

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        const form = document.getElementById('loginForm');
        const btn = form.querySelector('button[type="submit"]');

        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          btn.disabled = true;

          const studentId = form
            .querySelector('[name="student_id"]')
            .value.trim();
          const password = form.querySelector('[name="password"]').value.trim();

          if (!studentId || !password) {
            alert('í•™ë²ˆê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.');
            btn.disabled = false;
            return;
          }

          try {
            const res = await fetch('http://localhost:8080/api/login', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ studentId, password }),
            });

            if (!res.ok) throw new Error(`HTTP ì˜¤ë¥˜: ${res.status}`);
            const data = await res.json();

            if (data.sessionToken) {
              alert(data.message || 'ë¡œê·¸ì¸ ì„±ê³µ');
              localStorage.setItem('sessionToken', data.sessionToken);
              window.location.href = '/main_page/main_page.html';
            } else {
              alert(data.message || 'ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
            }
          } catch (err) {
            console.error('ë¡œê·¸ì¸ ì‹¤íŒ¨:', err);
            alert('ë¡œê·¸ì¸ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
          } finally {
            btn.disabled = false;
          }
        });
      });
    </script>
  </body>
</html>
